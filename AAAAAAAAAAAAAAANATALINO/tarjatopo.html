<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Swiper -->
    <link rel="stylesheet" href="https://unpkg.com/swiper@9/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper@9/swiper-bundle.min.js"></script>

    <!-- jQuery -->
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>

    <style>
              @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');


body { margin: 0; padding: 0; }
      .promo-banner-unico {
        overflow: hidden;
        background: linear-gradient(135deg, #9c1f3f 0%, #2e5c4f 100%);
        color: #fff;
        padding: 12px 5%;
        width: 100%;
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1em;
        text-align: center;
        box-sizing: border-box;
        position: relative;
        transition: all 0.3s ease-in-out;
          font-family: "Poppins", sans-serif;

  font-weight: 400;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      }

      /* ===== EFEITO DE NEVE/GELO FLUTUANDO ===== */
      .promo-banner-unico::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background-image: 
          radial-gradient(circle, rgba(255,255,255,0.3) 2px, transparent 2px),
          radial-gradient(circle, rgba(255,255,255,0.2) 1px, transparent 1px),
          radial-gradient(circle, rgba(200,230,255,0.4) 3px, transparent 3px);
        background-size: 50px 50px, 80px 80px, 100px 100px;
        background-position: 0 0, 40px 60px, 70px 30px;
        animation: snowfall 20s linear infinite;
        pointer-events: none;
        opacity: 0.6;
      }

      @keyframes snowfall {
        0% { transform: translate(0, 0) rotate(0deg); }
        100% { transform: translate(-50px, 100px) rotate(360deg); }
      }

      /* ===== FLOCOS DE GELO GRANDES ===== */
      .snowflake {
        position: absolute;
        color: rgba(255, 255, 255, 0.8);
        font-size: 1.5em;
        animation: float 8s ease-in-out infinite;
        pointer-events: none;
      }

      .snowflake:nth-child(1) { left: 10%; top: 20%; animation-delay: 0s; }
      .snowflake:nth-child(2) { left: 30%; top: 60%; animation-delay: 2s; }
      .snowflake:nth-child(3) { left: 50%; top: 30%; animation-delay: 4s; }
      .snowflake:nth-child(4) { left: 70%; top: 50%; animation-delay: 1s; }
      .snowflake:nth-child(5) { left: 90%; top: 40%; animation-delay: 3s; }

      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
        50% { transform: translateY(-20px) rotate(180deg); opacity: 0.8; }
      }

      /* ===== BRILHO NATALINO ===== */
      .promo-banner-unico::after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 50%;
        height: 100%;
        background: linear-gradient(90deg, 
          transparent, 
          rgba(255, 210, 50, 0.2), 
          transparent);
        animation: shine 3s ease-in-out infinite;
      }

      @keyframes shine {
        0% { left: -100%; }
        50%, 100% { left: 150%; }
      }

      .promo-banner-fixo {
        position: fixed !important;
        top: 0;
        left: 0;
        animation: slideDown 0.4s ease;
      }

      @keyframes slideDown {
        from { transform: translateY(-100%); }
        to { transform: translateY(0); }
      }

      .promo-texto-unico {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        max-width: 1200px;
        width: 100%;
        text-align: center;
        position: relative;
        z-index: 2;
      }

      .promo-info {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        gap: 8px;
        font-weight: 700;
        font-size: 1.05em;
        justify-content: center;
      }


      .promo-info strong {
        color: #b0a95f;
        font-size: 1.15em;
        animation: glow 2s ease-in-out infinite;
      }

      @keyframes glow {
        0%, 100% { text-shadow: none; }
        /* 50% { text-shadow: 0 0 10px #b0a95f, 0 0 20px #b0a95f; } */
      }

      .promo-cupom {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        white-space: nowrap;
      }

      .coupon-code {
            background: linear-gradient(135deg, #b0a95f 0%, #fff6d3 100%);
        color: #9c1f3f;
        border: 2px solid #fff;
        padding: 6px 14px;
        font-weight: 900;
        cursor: pointer;
        border-radius: 8px;
        font-size: 1.1em;
        transition: all 0.3s ease;
        /* font-family: "Benne", serif; */
          font-family: "Poppins", sans-serif;

  font-weight: 700;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        position: relative;
        overflow: hidden;
      }

      .coupon-code::before {
        content: '';
        position: absolute;
        left: -30px;
        font-size: 1.2em;
        animation: giftSlide 2s ease-in-out infinite;
      }

      @keyframes giftSlide {
        0%, 100% { left: -30px; }
        50% { left: calc(100% + 10px); }
      }

      .coupon-code:hover {
        transform: scale(1.1) rotate(-2deg);
            background: linear-gradient(135deg, #948e50 0%, #ffeda7 100%);
        box-shadow: 0 6px 25px rgba(255,215,0,0.4);
      }

      .copy-feedback {
        color: #b0a95f;
        font-weight: bold;
        font-size: 0.95em;
        display: none;
        animation: pulse 0.5s ease;
      }

      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.2); }
      }

      .timer-unico {
        display: flex;
        gap: 6px;
        align-items: center;
        flex-wrap: wrap;
        justify-content: center;
        font-size: 1em;
      }

      .timer-block {
        background: rgba(255,255,255,0.2);
        backdrop-filter: blur(10px);
        border: 2px solid rgba(255,255,255,0.4);
        color: #fff;
        padding: 6px 10px;
        min-width: 35px;
        text-align: center;
        border-radius: 8px;
        font-weight: 900;
        font-size: 1em;
        line-height: 1.2;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        animation: timerPulse 2s ease-in-out infinite;
      }

      @keyframes timerPulse {
        0%, 100% { box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        50% { box-shadow: 0 6px 20px rgba(255,255,255,0.4); }
      }

      .timer-label {
        display: block;
        font-size: 0.6em;
        color: #b0a95f;
        font-weight: 700;
        margin-top: 2px;
        letter-spacing: 1px;
      }

      @media (max-width: 480px) {
        .promo-banner-unico {
          font-size: 0.9em;
          padding: 10px 5%;
        }
        .promo-texto-unico {
          flex-direction: column;
          gap: 6px;
        }
        .promo-info {
          font-size: 0.95em;
          gap: 5px;
        }
        .coupon-code {
          padding: 5px 12px;
          font-size: 1em;
        }
        .timer-block {
          min-width: 30px;
          padding: 4px 8px;
          font-size: 0.9em;
        }
      }

      .close-btn {
        position: absolute;
        top: 8px;
        right: 12px;
        background: rgba(255,255,255,0.2);
        border: 2px solid #fff;
        color: #fff;
        font-size: 1.3em;
        cursor: pointer;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        z-index: 10;
        font-weight: bold;
      }

      .close-btn:hover {
        background: #9c1f3f;
        transform: rotate(90deg) scale(1.1);
      }

      @media (max-width: 480px) {
        .promo-texto-unico--desktop { display: none !important; }
        .promo-texto-unico--mobile { display: block !important; padding: 12px; }
      }

      @media (min-width: 481px) {
        .promo-texto-unico--desktop { display: flex !important; }
        .promo-texto-unico--mobile { display: none !important; }
      }

      .DUNA-swiper {
        position: relative;
        overflow: hidden;
        width: 100%;
      }

      .DUNA-swiper .DUNA-swiper-wrapper {
        display: flex;
        transition-property: transform;
        box-sizing: content-box;
      }

      .DUNA-swiper .DUNA-swiper-slide {
        flex-shrink: 0;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 6px;
        gap: 8px;
      }

      /* ===== ESTRELAS DECORATIVAS ===== */
      .star {
        position: absolute;
        color: #b0a95f;
        font-size: 1.2em;
        animation: twinkle 1.5s ease-in-out infinite;
        pointer-events: none;
      }

      .star:nth-child(6) { left: 5%; top: 15%; animation-delay: 0.2s; }
      .star:nth-child(7) { left: 25%; top: 80%; animation-delay: 0.4s; }
      .star:nth-child(8) { left: 75%; top: 20%; animation-delay: 0.6s; }
      .star:nth-child(9) { left: 95%; top: 70%; animation-delay: 0.8s; }

      @keyframes twinkle {
        0%, 100% { opacity: 0.3; transform: scale(1); }
        50% { opacity: 1; transform: scale(1.3); }
      }
    </style>
  </head>

  <body>
    <script>
      $(function () {
        if ($(".promo-banner-unico").length === 0) {
          const $banner = $(`
            <div class="promo-banner-unico" role="region" aria-label="Promo√ß√£o de Natal">
              <!-- Flocos de neve decorativos -->
              <span class="snowflake">‚ùÑ</span>
              <span class="snowflake">‚ùÖ</span>
              <span class="snowflake">‚ùÜ</span>
              <span class="snowflake">‚ùÑ</span>
              <span class="snowflake">‚ùÖ</span>
              
              <!-- Estrelas decorativas -->
              <span class="star"></span>
              <span class="star"></span>
              <span class="star"></span>
              <span class="star"></span>

              <button class="close-btn" aria-label="Fechar banner" type="button">√ó</button>

              <!-- DESKTOP -->
              <div class="promo-texto-unico promo-texto-unico--desktop">
                <div class="promo-info">
                  <span>üéÖ <strong>NATAL ESPECIAL</strong> com At√© 75% OFF  |</span>
                  <span class="promo-cupom">
                    <span>Use o cupom</span>
                    <button class="coupon-code" data-coupon="NATAL25" type="button" aria-label="Copiar cupom NATAL25">NATAL25</button>
                  </span>
                  <span>| Expira em:</span>
                </div>
                <div class="timer-unico" aria-live="polite">
                  <div class="timer-block">
                    <span class="js-horas">00</span>
                    <span class="timer-label">HRS</span>
                  </div>
                  <div class="timer-block">
                    <span class="js-minutos">00</span>
                    <span class="timer-label">MIN</span>
                  </div>
                  <div class="timer-block">
                    <span class="js-segundos">00</span>
                    <span class="timer-label">SEG</span>
                  </div>
                </div>
                <span class="copy-feedback">üéÅ Copiado!</span>
              </div>

              <!-- MOBILE -->
              <div class="promo-texto-unico promo-texto-unico--mobile">
                <div class="DUNA-swiper">
                  <div class="DUNA-swiper-wrapper">
                    <div class="DUNA-swiper-slide">
                      <div class="promo-info">
                        <span>üéÑ <strong>NATAL</strong> At√© 75% OFF üéÖ |</span>
                        <span class="promo-cupom">
                          <span>Cupom</span>
                          <button class="coupon-code" data-coupon="NATAL25" type="button">NATAL25</button>
                        </span>
                      </div>
                    </div>

                    <div class="DUNA-swiper-slide">
                      <div class="promo-info"><span>‚è∞ Expira em:</span></div>
                      <div class="timer-unico" aria-live="polite" style="margin-left:8px;">
                        <div class="timer-block">
                          <span class="js-horas">00</span>
                          <span class="timer-label">HRS</span>
                        </div>
                        <div class="timer-block">
                          <span class="js-minutos">00</span>
                          <span class="timer-label">MIN</span>
                        </div>
                        <div class="timer-block">
                          <span class="js-segundos">00</span>
                          <span class="timer-label">SEG</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <span class="copy-feedback">üéÅ Copiado!</span>
              </div>
            </div>
          `);

          const $hdr = $(".header-middle");
          if ($hdr.length) { $banner.insertBefore($hdr.first()); }
          else { $("body").prepend($banner); }
        }

        // ===== TIMER =====
        function calcularRestanteHoje() {
          const agora = new Date();
          const fim = new Date();
          fim.setHours(23, 59, 59, 999);
          return Math.max(0, fim - agora);
        }

        function atualizarCronometro() {
          const restante = calcularRestanteHoje();
          const $h = $(".js-horas");
          const $m = $(".js-minutos");
          const $s = $(".js-segundos");

          if (restante <= 0) {
            $h.text("00"); $m.text("00"); $s.text("00");
            clearInterval(intervaloCronometro);
            return;
          }

          const horas = Math.floor((restante % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutos = Math.floor((restante % (1000 * 60 * 60)) / (1000 * 60));
          const segundos = Math.floor((restante % (1000 * 60)) / 1000);

          $h.text(String(horas).padStart(2, "0"));
          $m.text(String(minutos).padStart(2, "0"));
          $s.text(String(segundos).padStart(2, "0"));
        }

        const intervaloCronometro = setInterval(atualizarCronometro, 1000);
        atualizarCronometro();

        // ===== FECHAR =====
        $(document).on("click", ".close-btn", function () {
          $(".promo-banner-unico").fadeOut(300, function () {
            if (window.__DUNA_swiper && typeof window.__DUNA_swiper.destroy === "function") {
              window.__DUNA_swiper.destroy(true, true);
              window.__DUNA_swiper = null;
            }
            $(this).remove();
          });
        });

        // ===== FIXAR NO SCROLL =====
        const $banner = $(".promo-banner-unico");
        $(window).on("scroll", function () {
          if ($(window).scrollTop() > 100) $banner.addClass("promo-banner-fixo");
          else $banner.removeClass("promo-banner-fixo");
        });

        // ===== COPIAR CUPOM =====
        $(document).on("click", ".coupon-code", async function () {
          const coupon = $(this).data("coupon");
          const $feedback = $(this).closest(".promo-texto-unico").find(".copy-feedback");

          try {
            if (navigator.clipboard && navigator.clipboard.writeText) {
              await navigator.clipboard.writeText(coupon);
            } else { throw new Error("Clipboard API indispon√≠vel"); }
          } catch (e) {
            const $temp = $("<input>");
            $("body").append($temp);
            $temp.val(coupon).trigger("focus").select();
            document.execCommand("copy");
            $temp.remove();
          }

          $feedback.stop(true, true).fadeIn(200).delay(1800).fadeOut(200);
        });

        // ===== SWIPER (MOBILE) =====
        function initDunaSwiper() {
          if (window.__DUNA_swiper) return;
          const el = document.querySelector(".DUNA-swiper");
          if (!el) return;

          window.__DUNA_swiper = new Swiper(".DUNA-swiper", {
            wrapperClass: "DUNA-swiper-wrapper",
            slideClass: "DUNA-swiper-slide",
            containerModifierClass: "DUNA-swiper-",
            loop: true,
            speed: 400,
            allowTouchMove: true,
            autoplay: {
              delay: 2500,
              disableOnInteraction: false,
              pauseOnMouseEnter: false,
            },
          });
        }

        function destroyDunaSwiper() {
          if (window.__DUNA_swiper && typeof window.__DUNA_swiper.destroy === "function") {
            window.__DUNA_swiper.destroy(true, true);
            window.__DUNA_swiper = null;
          }
        }

        function ensureSwiperForViewport() {
          const isMobile = window.matchMedia("(max-width: 480px)").matches;
          if (isMobile) initDunaSwiper();
          else destroyDunaSwiper();
        }

        ensureSwiperForViewport();
        let resizeTO;
        $(window).on("resize", function () {
          clearTimeout(resizeTO);
          resizeTO = setTimeout(ensureSwiperForViewport, 120);
        });
      });
    </script>
  </body>
</html>
