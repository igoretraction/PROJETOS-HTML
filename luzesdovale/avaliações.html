<!-- Swiper CSS -->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>

<style>
  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      sans-serif;
    background: #f8f9fa;
  }

  .lv-avaliacoes {
    padding: 60px 20px;
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 20px;
    max-width: 1420px;
    margin: 30px auto 0;
    width: 100%;
    box-sizing: border-box;
  }

  /* Tablets */
  @media (max-width: 1024px) {
    .lv-avaliacoes {
      padding: 50px 15px;
      margin: 20px auto 0;
      border-radius: 16px;
    }
  }

  /* Mobile landscape e tablets pequenos */
  @media (max-width: 768px) {
    .lv-avaliacoes {
      padding: 40px 15px;
      margin: 15px auto 0;
      border-radius: 12px;
      border-left: none;
      border-right: none;
      border-radius: 0;
    }
  }

  /* Mobile portrait */
  @media (max-width: 480px) {
    .lv-avaliacoes {
      padding: 30px 12px;
      margin: 0;
      border: none;
      border-radius: 0;
    }
  }

  /* Cards */
  .lv-card {
    display: flex;
    flex-direction: column;
    min-height: 280px;
    padding: 24px;
    background-color: #ffffff;
    border-radius: 16px;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    height: 100%;
  }

  @media (max-width: 768px) {
    .lv-card {
      padding: 20px;
      min-height: 250px;
      border-radius: 12px;
    }
  }

  @media (max-width: 480px) {
    .lv-card {
      padding: 16px;
      min-height: 220px;
      border-radius: 10px;
    }
  }

  .lv-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  }

  /* Nome */
  .lv-name {
    font-weight: 600;
    font-size: 1.1rem;
    color: #333;
    margin-bottom: 12px;
    line-height: 1.3;
    overflow-wrap: break-word;
  }

  @media (max-width: 768px) {
    .lv-name {
      font-size: 1rem;
      margin-bottom: 10px;
    }
  }

  @media (max-width: 480px) {
    .lv-name {
      font-size: 0.95rem;
      margin-bottom: 8px;
    }
  }

  /* Rating */
  .lv-rating {
    display: flex;
    align-items: center;
    margin-bottom: 12px;
    flex-wrap: wrap;
  }

  @media (max-width: 480px) {
    .lv-rating {
      margin-bottom: 10px;
    }
  }

  .lv-star {
    width: 18px;
    height: 18px;
    margin-right: 4px;
    display: inline-block;
    flex-shrink: 0;
  }

  @media (max-width: 480px) {
    .lv-star {
      width: 16px;
      height: 16px;
      margin-right: 3px;
    }
  }

  .lv-star svg {
    width: 100%;
    height: 100%;
  }
  .lv-star--full path {
    fill: #fbb832;
  }
  .lv-star--half path {
    fill: url(#gradiente-meia);
  }
  .lv-star--empty path {
    fill: #ccc;
  }

  /* Meta informações */
  .lv-meta {
    font-size: 0.85rem;
    color: #888;
    margin-bottom: 12px;
    line-height: 1.4;
  }

  @media (max-width: 768px) {
    .lv-meta {
      font-size: 0.8rem;
      margin-bottom: 10px;
    }
  }

  @media (max-width: 480px) {
    .lv-meta {
      font-size: 0.75rem;
      margin-bottom: 8px;
    }
  }

  /* Texto da avaliação */
  .lv-text {
    font-size: 0.95rem;
    color: #555;
    line-height: 1.6;
    flex-grow: 1;
    overflow-wrap: break-word;
    hyphens: auto;
  }

  @media (max-width: 768px) {
    .lv-text {
      font-size: 0.9rem;
      line-height: 1.5;
    }
  }

  @media (max-width: 480px) {
    .lv-text {
      font-size: 0.85rem;
      line-height: 1.4;
    }
  }

  /* Container do Swiper */
  .lv-swiper {
    position: relative;
    padding: 0 50px;
    overflow: hidden;
  }

  @media (max-width: 768px) {
    .lv-swiper {
      padding: 0 40px;
    }
  }

  @media (max-width: 480px) {
    .lv-swiper {
      padding: 0 35px;
    }
  }

  /* Botões de navegação */
  .lv-avaliacoes .swiper-button-prev,
  .lv-avaliacoes .swiper-button-next {
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    background-color: rgba(255, 255, 255, 0.95);
    border-radius: 50%;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    color: #333;
    z-index: 10;
    transition: all 0.3s ease;
  }

  .lv-avaliacoes .swiper-button-prev:hover,
  .lv-avaliacoes .swiper-button-next:hover {
    background-color: #fff;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    transform: translateY(-50%) scale(1.1);
  }

  .lv-avaliacoes .swiper-button-next {
    right: 10px;
  }
  .lv-avaliacoes .swiper-button-prev {
    left: 10px;
  }

  .lv-avaliacoes .swiper-button-next::after,
  .lv-avaliacoes .swiper-button-prev::after {
    font-size: 18px;
    font-weight: bold;
  }

  @media (max-width: 768px) {
    .lv-avaliacoes .swiper-button-prev,
    .lv-avaliacoes .swiper-button-next {
      width: 36px;
      height: 36px;
    }

    .lv-avaliacoes .swiper-button-next::after,
    .lv-avaliacoes .swiper-button-prev::after {
      font-size: 16px;
    }
  }

  @media (max-width: 480px) {
    .lv-avaliacoes .swiper-button-prev,
    .lv-avaliacoes .swiper-button-next {
      width: 32px;
      height: 32px;
    }

    .lv-avaliacoes .swiper-button-next {
      right: 5px;
    }
    .lv-avaliacoes .swiper-button-prev {
      left: 5px;
    }

    .lv-avaliacoes .swiper-button-next::after,
    .lv-avaliacoes .swiper-button-prev::after {
      font-size: 14px;
    }
  }

  /* Header */
  .lv-header {
    text-align: center;
    margin-bottom: 40px;
  }

  @media (max-width: 768px) {
    .lv-header {
      margin-bottom: 30px;
    }
  }

  @media (max-width: 480px) {
    .lv-header {
      margin-bottom: 25px;
      display: contents;
    }
  }

  .lv-title {
    font-size: 2rem;
    font-weight: 700;
    color: #222;
    margin-bottom: 15px;
    line-height: 1.2;
  }

  @media (max-width: 768px) {
    .lv-title {
      font-size: 1.6rem;
      margin-bottom: 12px;
    }
  }

  @media (max-width: 480px) {
    .lv-title {
      font-size: 1.4rem;
      margin-bottom: 10px;
      padding: 0 10px;
    }
  }

  .lv-fixed-stars {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-bottom: 12px;
  }

  @media (max-width: 480px) {
    .lv-fixed-stars {
      gap: 6px;
      margin-bottom: 10px;
    }
  }

  .lv-subtitle {
    font-size: 1rem;
    color: #666;
    line-height: 1.4;
    max-width: 600px;
    margin: 0 auto;
  }

  @media (max-width: 768px) {
    .lv-subtitle {
      font-size: 0.9rem;
      padding: 0 20px;
    }
  }

  @media (max-width: 480px) {
    .lv-subtitle {
      font-size: 0.85rem;
      padding: 0 15px;
      margin-bottom: 25px;
    }
  }

  /* Melhorias para dispositivos touch */
  @media (hover: none) and (pointer: coarse) {
    .lv-card:hover {
      transform: none;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
    }

    .lv-card:active {
      transform: scale(0.98);
    }
  }

  /* Scrollbar personalizada para Webkit */
  .swiper-wrapper::-webkit-scrollbar {
    display: none;
  }

  /* Indicadores de paginação personalizados para mobile muito pequeno */
  @media (max-width: 360px) {
    .lv-swiper {
      padding: 0 25px;
    }

    .lv-avaliacoes .swiper-button-prev,
    .lv-avaliacoes .swiper-button-next {
      width: 28px;
      height: 28px;
    }

    .lv-avaliacoes .swiper-button-next::after,
    .lv-avaliacoes .swiper-button-prev::after {
      font-size: 12px;
    }
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    /* ====== HTML injetado com os textos (título = nome | parágrafo = comentário) ====== */
    $(` 
  <div class="lv-avaliacoes">
    <div class="lv-header">
      <h2 class="lv-title">Mais de 1000 clientes satisfeitos</h2>
      <div class="lv-fixed-stars" aria-hidden="true">
        <div class="lv-star lv-star--full"><svg viewBox="0 0 14 14"><g transform="translate(-97 -342)"><path d="M107.65 355.814l-3.013-1.61-3.013 1.611a1.08 1.08 0 01-1.146-.077 1.1 1.1 0 01-.444-1.086l.575-3.41-2.437-2.416a1.106 1.106 0 01.607-1.883l3.369-.5 1.507-3.099a1.089 1.089 0 011.965 0l1.506 3.1 3.369.5a1.091 1.091 0 01.607 1.883l-2.438 2.414.575 3.41a1.1 1.1 0 01-1.078 1.215z"/></g></svg></div>
        <div class="lv-star lv-star--full"><svg viewBox="0 0 14 14"><g transform="translate(-97 -342)"><path d="M107.65 355.814l-3.013-1.61-3.013 1.611a1.08 1.08 0 01-1.146-.077 1.1 1.1 0 01-.444-1.086l.575-3.41-2.437-2.416a1.106 1.106 0 01.607-1.883l3.369-.5 1.507-3.099a1.089 1.089 0 011.965 0l1.506 3.1 3.369.5a1.091 1.091 0 01.607 1.883l-2.438 2.414.575 3.41a1.1 1.1 0 01-1.078 1.215z"/></g></svg></div>
        <div class="lv-star lv-star--full"><svg viewBox="0 0 14 14"><g transform="translate(-97 -342)"><path d="M107.65 355.814l-3.013-1.61-3.013 1.611a1.08 1.08 0 01-1.146-.077 1.1 1.1 0 01-.444-1.086l.575-3.41-2.437-2.416a1.106 1.106 0 01.607-1.883l3.369-.5 1.507-3.099a1.089 1.089 0 011.965 0l1.506 3.1 3.369.5a1.091 1.091 0 01.607 1.883l-2.438 2.414.575 3.41a1.1 1.1 0 01-1.078 1.215z"/></g></svg></div>
        <div class="lv-star lv-star--full"><svg viewBox="0 0 14 14"><g transform="translate(-97 -342)"><path d="M107.65 355.814l-3.013-1.61-3.013 1.611a1.08 1.08 0 01-1.146-.077 1.1 1.1 0 01-.444-1.086l.575-3.41-2.437-2.416a1.106 1.106 0 01.607-1.883l3.369-.5 1.507-3.099a1.089 1.089 0 011.965 0l1.506 3.1 3.369.5a1.091 1.091 0 01.607 1.883l-2.438 2.414.575 3.41a1.1 1.1 0 01-1.078 1.215z"/></g></svg></div>
        <div class="lv-star lv-star--full"><svg viewBox="0 0 14 14"><g transform="translate(-97 -342)"><path d="M107.65 355.814l-3.013-1.61-3.013 1.611a1.08 1.08 0 01-1.146-.077 1.1 1.1 0 01-.444-1.086l.575-3.41-2.437-2.416a1.106 1.106 0 01.607-1.883l3.369-.5 1.507-3.099a1.089 1.089 0 011.965 0l1.506 3.1 3.369.5a1.091 1.091 0 01.607 1.883l-2.438 2.414.575 3.41a1.1 1.1 0 01-1.078 1.215z"/></g></svg></div>
      </div>
      <p class="lv-subtitle">Clientes reais, experiências incríveis com nossos produtos</p>
    </div>

    <div class="swiper lv-swiper" aria-label="Depoimentos de clientes">
      <div class="swiper-wrapper">
        <!-- ====== Slides com TÍTULO (nome) e PARÁGRAFO (comentário) ====== -->

        <!-- 1 -->
        <div class="swiper-slide lv-item">
          <article class="lv-card">
            <h3 class="lv-name">Gilmar Aparecido Léo</h3>
            <div class="lv-rating" data-rating data-nota="5.0"></div>
            <div class="lv-meta"><span class="lv-local">Araraquara - SP</span><br><time class="lv-date data-aval"></time></div>
            <p class="lv-text">Excelente atendimento, cumpriu o prometido, recomendo. Att.</p>
          </article>
        </div>

        <!-- 2 -->
        <div class="swiper-slide lv-item">
          <article class="lv-card">
            <h3 class="lv-name">Joao Makovnik</h3>
            <div class="lv-rating" data-rating data-nota="5.0"></div>
            <div class="lv-meta"><span class="lv-local">São Paulo - SP</span><br><time class="lv-date data-aval"></time></div>
            <p class="lv-text">Rápido.</p>
          </article>
        </div>

        <!-- 3 -->
        <div class="swiper-slide lv-item">
          <article class="lv-card">
            <h3 class="lv-name">Luis Fernando dos Santos Mello</h3>
            <div class="lv-rating" data-rating data-nota="5.0"></div>
            <div class="lv-meta"><span class="lv-local">Porto Alegre - RS</span><br><time class="lv-date data-aval"></time></div>
            <p class="lv-text">A entrega ocorreu antes do prazo previsto e o produto veio muito bem embalado.</p>
          </article>
        </div>

        <!-- 4 -->
        <div class="swiper-slide lv-item">
          <article class="lv-card">
            <h3 class="lv-name">Liana Bacichett Trabulci</h3>
            <div class="lv-rating" data-rating data-nota="5.0"></div>
            <div class="lv-meta"><span class="lv-local">Curitiba - PR</span><br><time class="lv-date data-aval"></time></div>
            <p class="lv-text">Minha compra chegou certinha, bem embalada e exatamente como informa no site! Quando precisei de atendimento foram rápidos e prestativos! Recomendo a loja, é de confiança!</p>
          </article>
        </div>

        <!-- 5 -->
        <div class="swiper-slide lv-item">
          <article class="lv-card">
            <h3 class="lv-name">Maria Luiza Dastre Manzanares</h3>
            <div class="lv-rating" data-rating data-nota="5.0"></div>
            <div class="lv-meta"><span class="lv-local">Itajubá - MG</span><br><time class="lv-date data-aval"></time></div>
            <p class="lv-text">Ainda não foram instalados. Assim que colocar nos devidos lugares, vou enviar fotos. Espero que tudo esteja certo.</p>
          </article>
        </div>

        <!-- 6 -->
        <div class="swiper-slide lv-item">
          <article class="lv-card">
            <h3 class="lv-name">Simone Rodrigues</h3>
            <div class="lv-rating" data-rating data-nota="5.0"></div>
            <div class="lv-meta"><span class="lv-local">—</span><br><time class="lv-date data-aval"></time></div>
            <p class="lv-text">Ótimo atendimento e respondem rápido.</p>
          </article>
        </div>

        <!-- 7 -->
        <div class="swiper-slide lv-item">
          <article class="lv-card">
            <h3 class="lv-name">CRISTIANE COSTA DELGADO</h3>
            <div class="lv-rating" data-rating data-nota="5.0"></div>
            <div class="lv-meta"><span class="lv-local">Cuiabá - MT</span><br><time class="lv-date data-aval"></time></div>
            <p class="lv-text">Loja de confiança, chegou no prazo informado, bem embalado.</p>
          </article>
        </div>

        <!-- 8 -->
        <div class="swiper-slide lv-item">
          <article class="lv-card">
            <h3 class="lv-name">Ricardo Caffarena Franco</h3>
            <div class="lv-rating" data-rating data-nota="5.0"></div>
            <div class="lv-meta"><span class="lv-local">Balneário Camboriú - SC</span><br><time class="lv-date data-aval"></time></div>
            <p class="lv-text">Os produtos vêm muito bem embalados e com ótimo acabamento.</p>
          </article>
        </div>

        <!-- 9 -->
        <div class="swiper-slide lv-item">
          <article class="lv-card">
            <h3 class="lv-name">Luiz Agnelo Franciosi</h3>
            <div class="lv-rating" data-rating data-nota="5.0"></div>
            <div class="lv-meta"><span class="lv-local">Porto Alegre - RS</span><br><time class="lv-date data-aval"></time></div>
            <p class="lv-text">Ótimo, fácil, mesmo fazendo pedido especial. Tudo excelente. Certamente retornarei a comprar. Parabéns — que sirva de exemplo para outros portais.</p>
          </article>
        </div>

        <!-- 10 -->
        <div class="swiper-slide lv-item">
          <article class="lv-card">
            <h3 class="lv-name">Wagda Schyrlei Lima Silva Merlo</h3>
            <div class="lv-rating" data-rating data-nota="5.0"></div>
            <div class="lv-meta"><span class="lv-local">Vila Velha - ES</span><br><time class="lv-date data-aval"></time></div>
            <p class="lv-text">Ótima. Comprei para fazer reposição de uma peça que quebrou.</p>
          </article>
        </div>

      </div>
      <div class="swiper-button-prev" aria-label="Anterior"></div>
      <div class="swiper-button-next" aria-label="Próximo"></div>
    </div>
  </div>
  `).insertAfter(".topo-produto");

    /* ====== Swiper ====== */
    new Swiper(".lv-swiper", {
      slidesPerView: 1,
      spaceBetween: 10,
      autoplay: { delay: 2500, disableOnInteraction: false },
      loop: true,
      breakpoints: {
        640: { slidesPerView: 2, spaceBetween: 20 },
        768: { slidesPerView: 3, spaceBetween: 30 },
        1024: { slidesPerView: 4, spaceBetween: 40 },
      },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });

    /* ====== Datas randômicas (mostram “recentes”) ====== */
    const hoje = new Date();
    document.querySelectorAll(".data-aval").forEach((el) => {
      const diasAtras = Math.floor(Math.random() * 5);
      const data = new Date(hoje);
      data.setDate(hoje.getDate() - diasAtras);
      el.textContent = data.toLocaleDateString("pt-BR");
    });

    /* ====== Geração das estrelas (SVG) ====== */
    gerarEstrelasFixasComSVG();
  });

  /* ====== Função estrelas ====== */
  function gerarEstrelasFixasComSVG() {
    const avaliacoes = document.querySelectorAll("[data-rating]");
    const svgNamespace = "http://www.w3.org/2000/svg";

    avaliacoes.forEach((el) => {
      const nota = el.getAttribute("data-nota") || "5.0";
      const notaFloat = parseFloat(nota);
      const estrelasCheias = Math.floor(notaFloat);
      const temMeia = notaFloat % 1 >= 0.25 && notaFloat % 1 <= 0.75;
      const totalEstrelas = 5;
      el.innerHTML = "";

      for (let i = 0; i < totalEstrelas; i++) {
        let classe = "lv-star--empty";
        if (i < estrelasCheias) {
          classe = "lv-star--full";
        } else if (i === estrelasCheias && temMeia) {
          classe = "lv-star--half";
        }

        const estrela = document.createElement("div");
        estrela.classList.add("lv-star", classe);

        const svg = document.createElementNS(svgNamespace, "svg");
        svg.setAttribute("viewBox", "0 0 14 14");
        const g = document.createElementNS(svgNamespace, "g");
        g.setAttribute("transform", "translate(-97 -342)");
        const path = document.createElementNS(svgNamespace, "path");
        path.setAttribute(
          "d",
          "M107.65 355.814l-3.013-1.61-3.013 1.611a1.08 1.08 0 01-1.146-.077l.575-3.41-2.437-2.416a1.106 1.106 0 01.607-1.883l3.369-.5 1.507-3.099a1.089 1.089 0 011.965 0l1.506 3.1 3.369.5a1.091 1.091 0 01.607 1.883l-2.438 2.414.575 3.41a1.1 1.1 0 01-1.078 1.215z"
        );
        path.setAttribute(
          "fill",
          classe === "lv-star--full" ? "#fbb832" : "#ccc"
        );
        g.appendChild(path);
        svg.appendChild(g);
        estrela.appendChild(svg);
        el.appendChild(estrela);
      }
      const notaTexto = document.createElement("span");
      notaTexto.textContent = nota;
      notaTexto.style.marginLeft = "6px";
      notaTexto.style.fontWeight = "500";
      notaTexto.style.color = "#555";
      el.appendChild(notaTexto);
    });
  }
</script>
